let getDivClass = document.getElementsByClassName("div-class");

let firstClick = "O";
let secondClick = "X";
let currentPlayer = firstClick;
let getDivInnerTexts1 = [];
let getDivInnerTexts2 = [];

let arr1 = [null, null, null, null, null, null, null, null, null];


// let arrs = [

// ["div1", "div2", "div3"],
// ["div4", "div5", "div6"],
// ["div7", "div8", "div9"],
// ["div1", "div4", "div7"],
// ["div2", "div5", "div8"],
// ["div3", "div6", "div9"],
// ["div1", "div5", "div9"],
// ["div3", "div5", "div7"]

// ];



let arrs = [

    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9],
    [1, 4, 7],
    [2, 5, 8],
    [3, 6, 9],
    [1, 5, 9],
    [3, 5, 7]

];



for (let i = 0; i < getDivClass.length; i++) {

    getDivClass[i].addEventListener("click", clickFunction);

    function clickFunction(e) {

        const id1 = e.target.id.slice(3);

        if (!arr1[id1]) {

            arr1[id1] = currentPlayer;
            e.target.innerText = currentPlayer;


            if (wonFunction() !== false) {

                alert(currentPlayer + " " + "is won the game");

                getDivClass[0].style.pointerEvents = "none";
                getDivClass[1].style.pointerEvents = "none";
                getDivClass[2].style.pointerEvents = "none";
                getDivClass[3].style.pointerEvents = "none";
                getDivClass[4].style.pointerEvents = "none";
                getDivClass[5].style.pointerEvents = "none";
                getDivClass[6].style.pointerEvents = "none";
                getDivClass[7].style.pointerEvents = "none";
                getDivClass[8].style.pointerEvents = "none";


                alert("Next match is start in 3 seconds");

                setTimeout(() => {

                    location.reload();

                }, 3000);

            } else {

                if ((getDivClass[0].innerText == "X" || getDivClass[0].innerText == "O") && (getDivClass[1].innerText == "X" || getDivClass[1].innerText == "O") && (getDivClass[2].innerText == "X" || getDivClass[2].innerText == "O") && (getDivClass[3].innerText == "X" || getDivClass[3].innerText == "O") && (getDivClass[4].innerText == "X" || getDivClass[4].innerText == "O") && (getDivClass[5].innerText == "X" || getDivClass[5].innerText == "O") && (getDivClass[6].innerText == "X" || getDivClass[6].innerText == "O") && (getDivClass[7].innerText == "X" || getDivClass[7].innerText == "O") && (getDivClass[8].innerText == "X" || getDivClass[8].innerText == "O")) {

                    alert("Draw");

                    alert("Next match is start in 3 seconds");

                    setTimeout(() => {

                        location.reload();

                    }, 3000);

                }

            }



            if (currentPlayer == firstClick) {

                currentPlayer = secondClick;

            } else {

                currentPlayer = firstClick;

            };

        };

        getDivClass[i].style.pointerEvents = "none";

    };

};


function wonFunction() {

    for (const conditions of arrs) {

        let [a, b, c] = conditions;

        if (arr1[a] && (arr1[a] == arr1[b] && arr1[a] == arr1[c])) {

            return [a, b, c];

        }

    };

    return false;

}
